const e=craftercms.libs.React,{useState:t,useEffect:n}=craftercms.libs.React,r=craftercms.libs.React&&Object.prototype.hasOwnProperty.call(craftercms.libs.React,"default")?craftercms.libs.React.default:craftercms.libs.React,{createRoot:o}=craftercms.libs.ReactDOMClient,{CrafterCMSNextBridge:i}=craftercms.components,{useSelector:a,useDispatch:c}=craftercms.libs.ReactRedux,{createAction:s}=craftercms.libs.ReduxToolkit,{isImage:u}=craftercms.utils.content,{fetchSandboxItem:l}=craftercms.services.content;function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}var h={exports:{}};function d(){}function m(){}m.resetWarningCache=d;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function v(e){return"/"===e.charAt(0)}function g(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}h.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:m,resetWarningCache:d};return n.PropTypes=n,n}();var b="Invariant failed";function x(e,t){if(!e)throw new Error(b)}function w(e){return"/"===e.charAt(0)?e:"/"+e}function S(e){return"/"===e.charAt(0)?e.substr(1):e}function E(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function C(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function O(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function $(e,t,n,r){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=y({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&v(e),a=t&&v(t),c=i||a;if(e&&v(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var s=o[o.length-1];n="."===s||".."===s||""===s}else n=!1;for(var u=0,l=o.length;l>=0;l--){var f=o[l];"."===f?g(o,l):".."===f?(g(o,l),u++):u&&(g(o,l),u--)}if(!c)for(;u--;u)o.unshift("..");!c||""===o[0]||o[0]&&v(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p}(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function P(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var R=!("undefined"==typeof window||!window.document||!window.document.createElement);function _(e,t){t(window.confirm(e))}var A={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+S(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:S,decodePath:w},slash:{encodePath:w,decodePath:w}};function T(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function j(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function M(e){window.location.replace(T(window.location.href)+"#"+e)}function I(e){void 0===e&&(e={}),R||x(!1);var t=window.history;window.navigator.userAgent.indexOf("Firefox");var n=e,r=n.getUserConfirmation,o=void 0===r?_:r,i=n.hashType,a=void 0===i?"slash":i,c=e.basename?C(w(e.basename)):"",s=A[a],u=s.encodePath,l=s.decodePath;function f(){var e=l(j());return c&&(e=E(e,c)),$(e)}var p=P();function h(e){y(F,e),F.length=t.length,p.notifyListeners(F.location,F.action)}var d=!1,m=null;function v(){var e=j(),t=u(e);if(e!==t)M(t);else{var n=f(),r=F.location;if(!d&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===O(n))return;m=null,function(e){if(d)d=!1,h();else{var t="POP";p.confirmTransitionTo(e,t,o,(function(n){n?h({action:t,location:e}):function(e){var t=F.location,n=I.lastIndexOf(O(t));-1===n&&(n=0);var r=I.lastIndexOf(O(e));-1===r&&(r=0);var o=n-r;o&&(d=!0,k(o))}(e)}))}}(n)}}var g=j(),b=u(g);g!==b&&M(b);var S=f(),I=[O(S)];function k(e){t.go(e)}var L=0;function U(e){1===(L+=e)&&1===e?window.addEventListener("hashchange",v):0===L&&window.removeEventListener("hashchange",v)}var B=!1;var F={length:t.length,action:"POP",location:S,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=T(window.location.href)),n+"#"+u(c+O(e))},push:function(e,t){var n="PUSH",r=$(e,void 0,void 0,F.location);p.confirmTransitionTo(r,n,o,(function(e){if(e){var t=O(r),o=u(c+t);if(j()!==o){m=t,function(e){window.location.hash=e}(o);var i=I.lastIndexOf(O(F.location)),a=I.slice(0,i+1);a.push(t),I=a,h({action:n,location:r})}else h()}}))},replace:function(e,t){var n="REPLACE",r=$(e,void 0,void 0,F.location);p.confirmTransitionTo(r,n,o,(function(e){if(e){var t=O(r),o=u(c+t);j()!==o&&(m=t,M(o));var i=I.indexOf(O(F.location));-1!==i&&(I[i]=t),h({action:n,location:r})}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return B||(U(1),B=!0),function(){return B&&(B=!1,U(-1)),t()}},listen:function(e){var t=p.appendListener(e);return U(1),function(){U(-1),t()}}};return F}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}var L={exports:{}},U=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};L.exports=K,L.exports.parse=F,L.exports.compile=function(e,t){return D(F(e,t),t)},L.exports.tokensToFunction=D,L.exports.tokensToRegExp=H;var B=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function F(e,t){for(var n,r=[],o=0,i=0,a="",c=t&&t.delimiter||"/";null!=(n=B.exec(e));){var s=n[0],u=n[1],l=n.index;if(a+=e.slice(i,l),i=l+s.length,u)a+=u[1];else{var f=e[i],p=n[2],h=n[3],d=n[4],m=n[5],y=n[6],v=n[7];a&&(r.push(a),a="");var g=null!=p&&null!=f&&f!==p,b="+"===y||"*"===y,x="?"===y||"*"===y,w=n[2]||c,S=d||m;r.push({name:h||o++,prefix:p||"",delimiter:w,optional:x,repeat:b,partial:g,asterisk:!!v,pattern:S?V(S):v?".*":"[^"+N(w)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&r.push(a),r}function W(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function D(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",z(t)));return function(t,r){for(var o="",i=t||{},a=(r||{}).pretty?W:encodeURIComponent,c=0;c<e.length;c++){var s=e[c];if("string"!=typeof s){var u,l=i[s.name];if(null==l){if(s.optional){s.partial&&(o+=s.prefix);continue}throw new TypeError('Expected "'+s.name+'" to be defined')}if(U(l)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var f=0;f<l.length;f++){if(u=a(l[f]),!n[c].test(u))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received `'+JSON.stringify(u)+"`");o+=(0===f?s.prefix:s.delimiter)+u}}else{if(u=s.asterisk?encodeURI(l).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):a(l),!n[c].test(u))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+u+'"');o+=s.prefix+u}}else o+=s}return o}}function N(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function V(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function q(e,t){return e.keys=t,e}function z(e){return e&&e.sensitive?"":"i"}function H(e,t,n){U(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,i="",a=0;a<e.length;a++){var c=e[a];if("string"==typeof c)i+=N(c);else{var s=N(c.prefix),u="(?:"+c.pattern+")";t.push(c),c.repeat&&(u+="(?:"+s+u+")*"),i+=u=c.optional?c.partial?s+"("+u+")?":"(?:"+s+"("+u+"))?":s+"("+u+")"}}var l=N(n.delimiter||"/"),f=i.slice(-l.length)===l;return r||(i=(f?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=o?"$":r&&f?"":"(?="+l+"|$)",q(new RegExp("^"+i,z(n)),t)}function K(e,t,n){return U(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return q(e,t)}(e,t):U(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(K(e[o],t,n).source);return q(new RegExp("(?:"+r.join("|")+")",z(n)),t)}(e,t,n):function(e,t,n){return H(F(e,n),t,n)}(e,t,n)}var G={},J="function"==typeof Symbol&&Symbol.for,Y=J?Symbol.for("react.element"):60103,Q=J?Symbol.for("react.portal"):60106,X=J?Symbol.for("react.fragment"):60107,Z=J?Symbol.for("react.strict_mode"):60108,ee=J?Symbol.for("react.profiler"):60114,te=J?Symbol.for("react.provider"):60109,ne=J?Symbol.for("react.context"):60110,re=J?Symbol.for("react.async_mode"):60111,oe=J?Symbol.for("react.concurrent_mode"):60111,ie=J?Symbol.for("react.forward_ref"):60112,ae=J?Symbol.for("react.suspense"):60113,ce=J?Symbol.for("react.suspense_list"):60120,se=J?Symbol.for("react.memo"):60115,ue=J?Symbol.for("react.lazy"):60116,le=J?Symbol.for("react.block"):60121,fe=J?Symbol.for("react.fundamental"):60117,pe=J?Symbol.for("react.responder"):60118,he=J?Symbol.for("react.scope"):60119;function de(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Y:switch(e=e.type){case re:case oe:case X:case ee:case Z:case ae:return e;default:switch(e=e&&e.$$typeof){case ne:case ie:case ue:case se:case te:return e;default:return t}}case Q:return t}}}function me(e){return de(e)===oe}G.AsyncMode=re,G.ConcurrentMode=oe,G.ContextConsumer=ne,G.ContextProvider=te,G.Element=Y,G.ForwardRef=ie,G.Fragment=X,G.Lazy=ue,G.Memo=se,G.Portal=Q,G.Profiler=ee,G.StrictMode=Z,G.Suspense=ae,G.isAsyncMode=function(e){return me(e)||de(e)===re},G.isConcurrentMode=me,G.isContextConsumer=function(e){return de(e)===ne},G.isContextProvider=function(e){return de(e)===te},G.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Y},G.isForwardRef=function(e){return de(e)===ie},G.isFragment=function(e){return de(e)===X},G.isLazy=function(e){return de(e)===ue},G.isMemo=function(e){return de(e)===se},G.isPortal=function(e){return de(e)===Q},G.isProfiler=function(e){return de(e)===ee},G.isStrictMode=function(e){return de(e)===Z},G.isSuspense=function(e){return de(e)===ae},G.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===X||e===oe||e===ee||e===Z||e===ae||e===ce||"object"==typeof e&&null!==e&&(e.$$typeof===ue||e.$$typeof===se||e.$$typeof===te||e.$$typeof===ne||e.$$typeof===ie||e.$$typeof===fe||e.$$typeof===pe||e.$$typeof===he||e.$$typeof===le)},G.typeOf=de;var ye={exports:{}},ve={},ge="function"==typeof Symbol&&Symbol.for,be=ge?Symbol.for("react.element"):60103,xe=ge?Symbol.for("react.portal"):60106,we=ge?Symbol.for("react.fragment"):60107,Se=ge?Symbol.for("react.strict_mode"):60108,Ee=ge?Symbol.for("react.profiler"):60114,Ce=ge?Symbol.for("react.provider"):60109,Oe=ge?Symbol.for("react.context"):60110,$e=ge?Symbol.for("react.async_mode"):60111,Pe=ge?Symbol.for("react.concurrent_mode"):60111,Re=ge?Symbol.for("react.forward_ref"):60112,_e=ge?Symbol.for("react.suspense"):60113,Ae=ge?Symbol.for("react.suspense_list"):60120,Te=ge?Symbol.for("react.memo"):60115,je=ge?Symbol.for("react.lazy"):60116,Me=ge?Symbol.for("react.block"):60121,Ie=ge?Symbol.for("react.fundamental"):60117,ke=ge?Symbol.for("react.responder"):60118,Le=ge?Symbol.for("react.scope"):60119;function Ue(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case be:switch(e=e.type){case $e:case Pe:case we:case Ee:case Se:case _e:return e;default:switch(e=e&&e.$$typeof){case Oe:case Re:case je:case Te:case Ce:return e;default:return t}}case xe:return t}}}function Be(e){return Ue(e)===Pe}ve.AsyncMode=$e,ve.ConcurrentMode=Pe,ve.ContextConsumer=Oe,ve.ContextProvider=Ce,ve.Element=be,ve.ForwardRef=Re,ve.Fragment=we,ve.Lazy=je,ve.Memo=Te,ve.Portal=xe,ve.Profiler=Ee,ve.StrictMode=Se,ve.Suspense=_e,ve.isAsyncMode=function(e){return Be(e)||Ue(e)===$e},ve.isConcurrentMode=Be,ve.isContextConsumer=function(e){return Ue(e)===Oe},ve.isContextProvider=function(e){return Ue(e)===Ce},ve.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===be},ve.isForwardRef=function(e){return Ue(e)===Re},ve.isFragment=function(e){return Ue(e)===we},ve.isLazy=function(e){return Ue(e)===je},ve.isMemo=function(e){return Ue(e)===Te},ve.isPortal=function(e){return Ue(e)===xe},ve.isProfiler=function(e){return Ue(e)===Ee},ve.isStrictMode=function(e){return Ue(e)===Se},ve.isSuspense=function(e){return Ue(e)===_e},ve.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===we||e===Pe||e===Ee||e===Se||e===_e||e===Ae||"object"==typeof e&&null!==e&&(e.$$typeof===je||e.$$typeof===Te||e.$$typeof===Ce||e.$$typeof===Oe||e.$$typeof===Re||e.$$typeof===Ie||e.$$typeof===ke||e.$$typeof===Le||e.$$typeof===Me)},ve.typeOf=Ue;var Fe=ye.exports=ve,We={};We[Fe.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},We[Fe.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var De="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function Ne(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Ve=r.createContext||function(e,t){var n,o,i,a="__create-react-context-"+((De[i="__global_unique_id__"]=(De[i]||0)+1)+"__"),c=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).emitter=Ne(t.props.value),t}p(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,o)?(n="function"==typeof t?t(r,o):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(r.Component);c.childContextTypes=((n={})[a]=h.exports.object.isRequired,n);var s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}p(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return s.contextTypes=((o={})[a]=h.exports.object,o),{Provider:c,Consumer:s}},qe=function(e){var t=Ve();return t.displayName=e,t},ze=qe("Router-History"),He=qe("Router"),Ke=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}p(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return r.createElement(He.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},r.createElement(ze.Provider,{children:this.props.children||null,value:this.props.history}))},t}(r.Component);r.Component,r.Component;var Ge={},Je=0;function Ye(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,c=void 0!==a&&a,s=n.sensitive,u=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Ge[n]||(Ge[n]={});if(r[e])return r[e];var o=[],i={regexp:L.exports(e,o,t),keys:o};return Je<1e4&&(r[e]=i,Je++),i}(n,{end:i,strict:c,sensitive:u}),o=r.regexp,a=r.keys,s=o.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),p=e===l;return i&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var Qe=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this;return r.createElement(He.Consumer,null,(function(t){t||x(!1);var n=e.props.location||t.location,o=k({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Ye(n.pathname,e.props):t.match}),i=e.props,a=i.children,c=i.component,s=i.render;return Array.isArray(a)&&function(e){return 0===r.Children.count(e)}(a)&&(a=null),r.createElement(He.Provider,{value:o},o.match?a?"function"==typeof a?a(o):a:c?r.createElement(c,o):s?s(o):null:"function"==typeof a?a(o):null)}))},t}(r.Component);r.Component;var Xe=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this;return r.createElement(He.Consumer,null,(function(t){t||x(!1);var n,o,i=e.props.location||t.location;return r.Children.forEach(e.props.children,(function(e){if(null==o&&r.isValidElement(e)){n=e;var a=e.props.path||e.props.from;o=a?Ye(i.pathname,k({},e.props,{path:a})):t.match}})),o?r.cloneElement(n,{location:i,computedMatch:o}):null}))},t}(r.Component);function Ze(e,t){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ze(e,t)}function et(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ze(e,t)}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}function nt(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}r.useContext,r.Component;var rt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=I(t.props),t}return et(t,e),t.prototype.render=function(){return r.createElement(Ke,{history:this.history,children:this.props.children})},t}(r.Component),ot=function(e,t){return"function"==typeof e?e(t):e},it=function(e,t){return"string"==typeof e?$(e,null,null,t):e},at=function(e){return e},ct=r.forwardRef;void 0===ct&&(ct=at);var st=ct((function(e,t){var n=e.innerRef,o=e.navigate,i=e.onClick,a=nt(e,["innerRef","navigate","onClick"]),c=a.target,s=tt({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),o())}});return s.ref=at!==ct&&t||n,r.createElement("a",s)})),ut=ct((function(e,t){var n=e.component,o=void 0===n?st:n,i=e.replace,a=e.to,c=e.innerRef,s=nt(e,["component","replace","to","innerRef"]);return r.createElement(He.Consumer,null,(function(e){e||x(!1);var n=e.history,u=it(ot(a,e.location),e.location),l=u?n.createHref(u):"",f=tt({},s,{href:l,navigate:function(){var t=ot(a,e.location),r=O(e.location)===O(it(t));(i||r?n.replace:n.push)(t)}});return at!==ct?f.ref=t||c:f.innerRef=c,r.createElement(o,f)}))})),lt=function(e){return e},ft=r.forwardRef;void 0===ft&&(ft=lt),ft((function(e,t){var n=e["aria-current"],o=void 0===n?"page":n,i=e.activeClassName,a=void 0===i?"active":i,c=e.activeStyle,s=e.className,u=e.exact,l=e.isActive,f=e.location,p=e.sensitive,h=e.strict,d=e.style,m=e.to,y=e.innerRef,v=nt(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return r.createElement(He.Consumer,null,(function(e){e||x(!1);var n=f||e.location,i=it(ot(m,n),n),g=i.pathname,b=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?Ye(n.pathname,{path:b,exact:u,sensitive:p,strict:h}):null,S=!!(l?l(w,n):w),E="function"==typeof s?s(S):s,C="function"==typeof d?d(S):d;S&&(E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(E,a),C=tt({},C,c));var O=tt({"aria-current":S&&o||null,className:E,style:C,to:i},v);return lt!==ft?O.ref=t||y:O.innerRef=y,r.createElement(ut,O)}))}));const pt=a,ht=s("SHOW_EDIT_DIALOG"),dt=s("SHOW_PREVIEW_DIALOG");function mt(t){return e.createElement("div",{style:{textAlign:"center",margin:"50px auto"}},e.createElement("img",{src:"/studio/static-assets/images/content_creation.svg"}),e.createElement("h1",null,"CrafterCMS â¤ Trello"),e.createElement("h3",null,t.message))}function yt(r){r.match.params;var o=r.location.search,i=new URLSearchParams(o),a=i.get("contentId"),s=i.get("siteId"),f=c(),p=pt((function(e){return e.env.authoringBase})),h=t("We are processing your request :)"),d=h[0],m=h[1],y=t(null);y[0];var v=y[1];return s&&a?n((function(){var e={siteId:s,contentId:a,authoringBase:p,setStatusMessage:m,dispatch:f};l(s,a,{castAsDetailedItem:!0}).subscribe({next:function(t){v(t),function(e,t){var n=t.siteId,r=t.contentId,o=t.authoringBase,i=t.setStatusMessage,a=t.dispatch;if("page"===e.systemType){var c=r.replace("/site/website/","").replace("index.xml","").replace(".xml",".html");window.location.href="/studio/preview#/?page="+c+"&site="+n}else"component"===e.systemType||"levelDescriptor"===e.systemType?a(ht({site:n,path:r,authoringBase:o,readonly:!0})):"asset"===e.systemType?u(e)?a(dt({site:n,type:"image",url:r,authoringBase:o})):r.endsWith(".mp4")?a(dt({site:n,type:"video",url:r,authoringBase:o})):a(dt({site:n,type:"editor",url:r,authoringBase:o})):i("Oops, we don't know how to preview this type of content item.")}(t,e)},error:function(){m("Oops! We can't find the content you are looking for.")}})}),[s,a,p,m,f]):m("siteId and contentId are required parameters for preview."),e.createElement(mt,{message:d})}function vt(){return e.createElement(e.Fragment,null,e.createElement(mt,{message:"OOPS! We don't recognize your request"}))}var gt=document.createElement("div"),bt=o(gt);document.body.appendChild(gt),bt.render(e.createElement(i,null,e.createElement((function(){return e.createElement(rt,null,e.createElement(Xe,null,e.createElement(Qe,{path:"/preview/:arg1?",component:yt}),e.createElement(Qe,{path:"/",exact:!0,component:vt})))}),null)));
